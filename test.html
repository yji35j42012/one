<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<style>
		* {
			margin: 0;
			padding: 0;
		}

		.wrap {
			display: flex;
			flex-direction: column;
		}

		.header {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 56px;
			background-color: blue;
			color: #fff;
		}

		.hide .header {
			height: 0;
			overflow: hidden;
			transition: height 0.3s ease 0.3s;
		}

		.txtbox {
			overflow: hidden;
			flex: 1 1 100%;
			padding-top: 56px;
		}

		.hide .txtbox {
			/* margin-top: 56px !important; */
			will-change: margin-top;
		}

		.txtbox_scroll {
			overflow-x: hidden;
			overflow-y: auto;
		}

		.btt {
			position: fixed;
			left: 0;
			bottom: 0;
			width: 100%;
			height: calc(58px + env(safe-area-inset-bottom));
			padding-bottom: env(safe-area-inset-bottom);
			background-color: #503f32;
		}

		.hide .btt {
			transition: transform 0.3s ease;
			transform: translate3d(0, calc(58px + env(safe-area-inset-bottom)), 0);
			overflow: hidden;
		}
	</style>
</head>

<body id="scroll_body">
	<div class="wrap">
		<div class="header">ddddd</div>
		<div class="txtbox">
			<div class="txtbox_scroll">
				Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ullam, adipisci dicta rerum enim nemo ratione
				eaque perspiciatis nostrum illo doloribus provident voluptatem, praesentium, minima rem! Deleniti,
				aspernatur sed! Atque, numquam!
				Repellat culpa quidem, eos expedita ipsa aperiam eum vero facere, vel voluptates corrupti saepe beatae,
				distinctio tempora magni ea harum natus. Quos architecto dolorem, quaerat explicabo aliquam quo quisquam
				dignissimos!
				Numquam ipsum ratione dolorem eaque, labore quidem repellendus quis adipisci ducimus quo! Tempora
				mollitia
				magnam incidunt a laboriosam, iste sed repellendus fugiat harum molestiae debitis rerum dolorem natus
				unde
				fuga?
				Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ullam, adipisci dicta rerum enim nemo ratione
				eaque perspiciatis nostrum illo doloribus provident voluptatem, praesentium, minima rem! Deleniti,
				aspernatur sed! Atque, numquam!
				Repellat culpa quidem, eos expedita ipsa aperiam eum vero facere, vel voluptates corrupti saepe beatae,
				distinctio tempora magni ea harum natus. Quos architecto dolorem, quaerat explicabo aliquam quo quisquam
				dignissimos!
				Numquam ipsum ratione dolorem eaque, labore quidem repellendus quis adipisci ducimus quo! Tempora
				mollitia
				magnam incidunt a laboriosam, iste sed repellendus fugiat harum molestiae debitis rerum dolorem natus
				unde
				fuga?
				Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ullam, adipisci dicta rerum enim nemo ratione
				eaque perspiciatis nostrum illo doloribus provident voluptatem, praesentium, minima rem! Deleniti,
				aspernatur sed! Atque, numquam!
				Repellat culpa quidem, eos expedita ipsa aperiam eum vero facere, vel voluptates corrupti saepe beatae,
				distinctio tempora magni ea harum natus. Quos architecto dolorem, quaerat explicabo aliquam quo quisquam
				dignissimos!
				Numquam ipsum ratione dolorem eaque, labore quidem repellendus quis adipisci ducimus quo! Tempora
				mollitia
				magnam incidunt a laboriosam, iste sed repellendus fugiat harum molestiae debitis rerum dolorem natus
				unde
				fuga?
				Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ullam, adipisci dicta rerum enim nemo ratione
				eaque perspiciatis nostrum illo doloribus provident voluptatem, praesentium, minima rem! Deleniti,
				aspernatur sed! Atque, numquam!
				Repellat culpa quidem, eos expedita ipsa aperiam eum vero facere, vel voluptates corrupti saepe beatae,
				distinctio tempora magni ea harum natus. Quos architecto dolorem, quaerat explicabo aliquam quo quisquam
				dignissimos!
				Numquam ipsum ratione dolorem eaque, labore quidem repellendus quis adipisci ducimus quo! Tempora
				mollitia
				magnam incidunt a laboriosam, iste sed repellendus fugiat harum molestiae debitis rerum dolorem natus
				unde
				fuga?
				Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ullam, adipisci dicta rerum enim nemo ratione
				eaque perspiciatis nostrum illo doloribus provident voluptatem, praesentium, minima rem! Deleniti,
				aspernatur sed! Atque, numquam!
				Repellat culpa quidem, eos expedita ipsa aperiam eum vero facere, vel voluptates corrupti saepe beatae,
				distinctio tempora magni ea harum natus. Quos architecto dolorem, quaerat explicabo aliquam quo quisquam
				dignissimos!
				Numquam ipsum ratione dolorem eaque, labore quidem repellendus quis adipisci ducimus quo! Tempora
				mollitia
				magnam incidunt a laboriosam, iste sed repellendus fugiat harum molestiae debitis rerum dolorem natus
				unde
				fuga?
				Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ullam, adipisci dicta rerum enim nemo ratione
				eaque perspiciatis nostrum illo doloribus provident voluptatem, praesentium, minima rem! Deleniti,
				aspernatur sed! Atque, numquam!
				Repellat culpa quidem, eos expedita ipsa aperiam eum vero facere, vel voluptates corrupti saepe beatae,
				distinctio tempora magni ea harum natus. Quos architecto dolorem, quaerat explicabo aliquam quo quisquam
				dignissimos!
				Numquam ipsum ratione dolorem eaque, labore quidem repellendus quis adipisci ducimus quo! Tempora
				mollitia
				magnam incidunt a laboriosam, iste sed repellendus fugiat harum molestiae debitis rerum dolorem natus
				unde
				fuga?
				Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ullam, adipisci dicta rerum enim nemo ratione
				eaque perspiciatis nostrum illo doloribus provident voluptatem, praesentium, minima rem! Deleniti,
				aspernatur sed! Atque, numquam!
				Repellat culpa quidem, eos expedita ipsa aperiam eum vero facere, vel voluptates corrupti saepe beatae,
				distinctio tempora magni ea harum natus. Quos architecto dolorem, quaerat explicabo aliquam quo quisquam
				dignissimos!
				Numquam ipsum ratione dolorem eaque, labore quidem repellendus quis adipisci ducimus quo! Tempora
				mollitia
				magnam incidunt a laboriosam, iste sed repellendus fugiat harum molestiae debitis rerum dolorem natus
				unde
				fuga?
				Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ullam, adipisci dicta rerum enim nemo ratione
				eaque perspiciatis nostrum illo doloribus provident voluptatem, praesentium, minima rem! Deleniti,
				aspernatur sed! Atque, numquam!
				Repellat culpa quidem, eos expedita ipsa aperiam eum vero facere, vel voluptates corrupti saepe beatae,
				distinctio tempora magni ea harum natus. Quos architecto dolorem, quaerat explicabo aliquam quo quisquam
				dignissimos!
				Numquam ipsum ratione dolorem eaque, labore quidem repellendus quis adipisci ducimus quo! Tempora
				mollitia
				magnam incidunt a laboriosam, iste sed repellendus fugiat harum molestiae debitis rerum dolorem natus
				unde
				fuga?
			</div>
		</div>
		<div class="btt">dddd</div>
	</div>

	<script>
		let lastScrollTop = 0;
		var bb = document.querySelector("#scroll_body");
		console.log('body', bb);
		window.addEventListener('scroll', () => {
			console.log('scroll', window.scrollY);
			const currentScroll = window.scrollY || document.documentElement.scrollTop;

			if (currentScroll > lastScrollTop && window.scrollY > 56) {
				// 使用者往下滑
				console.log("Scrolling down");
				bb.classList.add("hide")
			} else if (currentScroll < lastScrollTop) {
				// 使用者往上滑
				console.log("Scrolling up");
				bb.classList.remove("hide")
			}
			lastScrollTop = currentScroll <= 0 ? 0 : currentScroll; // 為了避免負值
		});

	</script>

</body>

</html>